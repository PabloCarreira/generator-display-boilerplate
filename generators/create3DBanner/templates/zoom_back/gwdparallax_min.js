(function(){'use strict';var h=function(a,d,e){a=parseFloat(a.getAttribute(d));isFinite(a)||(a=e);return a};var k=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},l=function(a){if(k(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&k(a))return a;return null};var m=function(a){a=1-a;return 1-a*a*a};var n=/[^\d]+$/,q=function(a,d,e,b){if(!a.hasAttribute(d))return e;a=a.getAttribute(d);isNaN(parseFloat(a))?b=e:(e=parseFloat(a),(a=(a=a.match(n))&&a[0]||null)&&(a=a.trim()),d=e,"%"==a&&(d=Number((e/100*b).toFixed(2))),b=d);return b};var r=function(a,d,e,b,c,f){c=void 0===c?0:c;f=void 0===f?1:f;if(b<=c)return a;if(b>=f)return d;switch(e){case "ease-in":e=b*b*b;c*=c*c;f*=f*f;break;case "ease-in-out":e=3*b*b-2*b*b*b;c=3*c*c-2*c*c*c;f=3*f*f-2*f*f*f;break;case "ease-out":e=m(b);c=m(c);f=m(f);break;default:e=b}return 1/(f-c)*(d-a)*(e-c)+a},t=function(a,d){if(!a.hasAttribute(d))return 1;a=a.getAttribute(d);a=parseFloat(a);return isNaN(a)?1:0>a?0:1<a?1:a};var u=function(a,d){function e(){}e.prototype=d.prototype;a.I=d.prototype;a.prototype=new e;a.prototype.constructor=a};var v=function(){};u(v,HTMLElement);v.prototype.createdCallback=function(){this.j=[];this.i=this.w=null;this.h=0;this.c=1;this.a=[];this.m=this.F.bind(this);this.A=this.u=!1;this.B=this.G.bind(this);this.f=null};v.prototype.attachedCallback=function(){this.ownerDocument.addEventListener("hostpagescroll",this.B);if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=l(this),d=a&&"function"==typeof a.gwdIsLoaded;(!a||d&&a.gwdIsLoaded())&&this.gwdLoad()}};
v.prototype.detachedCallback=function(){this.ownerDocument.removeEventListener("hostpagescroll",this.B);this.removeEventListener("ready",this.m,!1)};v.prototype.gwdLoad=function(){if(!this.gwdIsLoaded()){this.a.length=0;w(this);for(var a=this.a.length-1;0<=a;a--)this.a[a].gwdLoad();this.a=this.a.filter(function(d){return!d.gwdIsLoaded()});0==this.a.length?x(this):this.addEventListener("ready",this.m,!1)}};v.prototype.gwdIsLoaded=function(){return this.u&&0==this.a.length};
v.prototype.F=function(a){a=this.a.indexOf(a.target);0<=a&&(this.a.splice(a,1),0==this.a.length&&(x(this),this.removeEventListener("ready",this.m,!1)))};
var x=function(a){if(!a.A){var d=document.createEvent("Event");d.initEvent("ready",!0,!0);a.dispatchEvent(d)}a.A=!0;a.f&&(y(a,a.f.creativeFramePercentY,a.f.windowHeight+a.i),a.f=null)},w=function(a){a.style.overflow="hidden";a.j.length=0;a.w=a.clientWidth;a.i=a.clientHeight;var d=h(a,"start",0),e=h(a,"end",1);if(0>d||1<d||0>e||1<e||d>=e)d=0,e=1;a.h=d;a.c=e;d=a.ownerDocument;for(e=0;e<a.children.length;e++){var b=a.children[e],c=a.w,f=a.i,g=q(b,"xenter",0,c),p=q(b,"xexit",0,c),A=q(b,"yenter",0,f),
B=q(b,"yexit",0,f),C=t(b,"opacityenter"),D=t(b,"opacityexit"),E=b.hasAttribute("fixed"),F=b.getAttribute("assettype")||"",G=b.getAttribute("source")||"",H=b.getAttribute("easing")||"linear";c=q(b,"width",c,c);f=q(b,"height",f,f);var I=b.hasAttribute("yawenter")?parseInt(b.getAttribute("yawenter"),10):void 0,J=b.hasAttribute("yawexit")?parseInt(b.getAttribute("yawexit"),10):void 0;b={D:F,easing:H,element:b,fixed:E,height:f,v:C,H:D,source:G,width:c,o:g,s:A,J:p,K:B,l:I,C:J};a.j.push(b);b.element.style.position=
"absolute";b.element.style.left="0px";b.element.style.top="0px";b.element.style.width=b.width+"px";b.element.style.height=b.height+"px";b.element.style.transform="translate("+b.o+"px, "+b.s+"px)";b.element.style.opacity=b.v+"";void 0!=b.l&&b.element.setTargetYaw(b.l);if("image"==b.D&&b.source){for(;b.element.firstChild;)b.element.removeChild(b.element.firstChild);g=d.createElement("gwd-image");g.style.width="100%";g.style.height="100%";g.setAttribute("source",b.source);a.a.push(g);b.element.appendChild(g)}else b.element.gwdLoad&&
a.a.push(b.element)}a.u=!0};v.prototype.G=function(a){a=a.detail;this.gwdIsLoaded()?y(this,a.creativeFramePercentY,a.windowHeight+this.i):this.f=a};
var y=function(a,d,e){for(var b=0;b<a.j.length;b++){var c=a.j[b];if(c.fixed){var f=c.o;var g=c.s+d*e}else f=r(c.o,c.J,c.easing,d,a.h,a.c),g=r(c.s,c.K,c.easing,d,a.h,a.c);var p=r(c.v,c.H,c.easing,d,a.h,a.c);c.element.style.transform="translate("+f+"px, "+g+"px)";c.element.style.opacity=p+"";void 0!=c.l&&void 0!=c.C&&c.element.setTargetYaw(Math.round(r(c.l,c.C,c.easing,d,a.h,a.c)))}};var z=function(){};u(z,v);z.prototype.createdCallback=function(){z.I.createdCallback.call(this)};document.registerElement("gwd-parallax",{prototype:z.prototype});}).call(this);
